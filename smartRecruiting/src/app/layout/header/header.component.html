<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" routerLink="">
    <div class="row align-items-center">
      <div class="col-sm">
        <img src="assets/logo.png" width="80"/>
      </div>
      <div class="col-sm title">
        <h2>SmartRecruiting</h2>
      </div>
    </div>
  </a>
  <button class="navbar-toggler navbar-toggler-left" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
        <li class="nav-item" *ngIf="admin">
          <a class="nav-link" routerLink="admin/statistiques">Statistiques</a>
        </li>
        <li class="nav-item" *ngIf="admin">
          <a class="nav-link" routerLink="admin/donnees">Données</a>
        </li>
        <li class="nav-item" *ngIf="admin">
          <a class="nav-link" routerLink="admin/formations">Formations</a>
        </li>
    </ul>
    <ul class="form-inline my-2 my-lg-0">
    <span *ngIf="!connected">
      <!--Connexion-->
      <button (click)="connect(login)" class="btn btn-outline-primary btn-margin-right">Connexion</button>
      <a class="btn btn-outline-dark btn-margin-left" (click)="register(signup)" role="button">Inscription</a>

    </span>
      <span *ngIf="connected">
     <span class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Mon compte
      </a>
      <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
        <a class="dropdown-item" routerLink="/mes-offres">Mes offres</a>
        <a class="dropdown-item" routerLink="/parametres/:userId">Paramètres</a>
        <a class="dropdown-item" routerLink="" (click)="disconnect()">Déconnexion</a>
      </div>
      </span>
    </span>
    </ul>
  </div>
</nav>

<ng-template #login let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Authentification</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form class="needs-validation" novalidate>
      <div class="alert alert-danger" role="alert" *ngIf="!validForm">
        Des champs sont manquant
      </div>
      <div class="form-group">
        <label for="emailUser">Adresse mail</label>
        <input type="email" class="form-control" name="emailUser" id="emailUser" [(ngModel)]="emailUser" #name="ngModel" required>
      </div>
      <div class="form-group">
        <label for="passwordUser">Mot de passe</label>
        <input type="password" class="form-control" name="passwordUser" id="passwordUser" [(ngModel)]="passwordUser" #name="ngModel" required>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <div class="row col-12 justify-content-center">
      <button type="button" class="btn btn-outline-primary btn-margin-right" (click)="c('blop');register(signup)">S'inscrire</button>
      <button type="button" class="btn btn-success" (click)="validateConnexion()">Valider</button>
    </div>
  </div>
</ng-template>

<ng-template #signup let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Inscription</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form>
      <div class="form-group">
        <label>Nom</label>
        <input type="text" class="form-control" [(ngModel)]="newUser.name" name="name">
      </div>
      <div class="form-group">
        <label>Prénom</label>
        <input type="text" class="form-control" [(ngModel)]="newUser.surname" name="surname">
      </div>
      <div class="form-group">
        <label>Rôle</label>
        <input type="text" class="form-control" [(ngModel)]="newUser.role" name="role">
      </div>
      <div class="form-group">
        <label >Email</label>
        <input type="email" class="form-control" [(ngModel)]="newUser.email" name="email">
      </div>
      <div class="form-group">
        <label>Mot de passe</label>
        <input type="password" class="form-control" [(ngModel)]="newUser.password" name="mdp">
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <div class="row col-12 justify-content-center">
      <button type="button" class="btn btn-success col-4" (click)="validateRegistration()">Valider</button>
    </div>

  </div>
</ng-template>
